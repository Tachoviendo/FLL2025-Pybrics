# Programar en Pybrics!


## Librerias paraque usa pybrics para funcionar. 
Las librerias son fragmentos de código que otra persona escribió para hacernos la vida más fácil. Las que usamos en el siguiente código, nos permiten controlar el robot de una manera mucho más simple. 

```python
from pybricks.hubs import PrimeHub
from pybricks.pupdevices import Motor, ColorSensor, UltrasonicSensor, ForceSensor
from pybricks.parameters import Button, Color, Direction, Port, Side, Stop
from pybricks.robotics import DriveBase
from pybricks.tools import wait, StopWatch
```
## Armar nuestro robot
Para poder programar nuestro robot en pybrics, primero tenemos que crearlo en el código, esto se llama `abstracción`. Tomamos a nuestro robot que existe en la realidad y lo convertimos en un objeto dentro de la computadora.


### Motores
Tenemos que empezar definiendo los motores. Para esto vamos a usar la clase `Motor()`

```python
#motores de movimiento
ruedaIzquierda = Motor(Port.A, Direction.COUNTERCLOCKWISE)
ruedaDerecha = Motor(Port.E, Direction.CLOCKWISE)

#motores de mecanismos
motorDerecho = Motor(Port.F, Direction.CLOCKWISE)
motorIzquierdo = Motor(Port.B, Direction.COUNTERCLOCKWISE)
```
Como se ve en el código de arriba, Creamos una variable que se llama `ruedaIzquierda` y la igualamos a el motor que estamos creando gracias a la clase `Motor()`. Esta última necesita 2 datos importantes acerca de nuestro motor. 
* El puerto en donde está conectado
* La dirección en la que va a girar.

Es por eso que pasamos como parámetro `Port.A` y `Direction.COUNTERCLOCWISE`. 

### Sensores
Para crear nuestros sensores, el proceso es un poco mas sencillo, lo único que tenemos que hacer es usar la clase `ColorSensor()` y debemos especificar el puerto en el que tenemos conectado el sensor.
```python
#Sensores de luz
sensorIzquierdo = ColorSensor(Port.C)
sensorDerecho = ColorSensor(Port.D)
```

### Crear el robot
Una vez definimos sensores y motores, podemos porfin crear nuestro robot dentro de la computadora. Para eso vamos a usar la  clase `DriveBase()`.

```python
robot = DriveBase(ruedaIzquierda, ruedaDerecha, 56, 114)
```
Guardamos nuestra bse de movimiento (el robot) en la variable `robot`. Como parametro tenemos que pasar nuestro motor `ruedaIzquierda` y `ruedaDerecha`. Ademas aparecer 2 valores que parecen ser random, pero no lo son.

El `56` es el diámetro de nuestra ruedaen milimetros y `114` es la distancia entre los ejes de los motores en milimetros. Estos datos son cruciales para que pybrics pueda calcular con precision los giros que hace nuestro robot.

### Configurar velocidad del robot
Para esto, tenemos que configurar una lista de nuestra base de movimiento (drivebase o robot):
```python
robot.settings(360,180,360,180)
```
Le estamos pasando como parámetro
* Velocidad máxima en línea recta: 360 °/s
* Aceleración por segundo: 180 °/s
* velocidad máxima para giros: 360 °/s
* Aceleración  por segundo: 180 °/s

### Ganar la fll
Para ser extremadamente precisos, hay que usar el gyrosensor (giroscópio). Este nos permite medir los grados que gira nuestro robot y asegurarnos de que este realmente este doblando tanto como queremos. La única razón por la que usamos pybrics, es por lo fácil que es implementarlo aca.

```python
robot.use_gyro(True)
```

Con esa simple línea, le estamos diciendo a nuestra base de movimiento (el robot), que todos los movimientos que hará, serán usando el gyro sensor.

## Código completo
```python
#Librerias para que funcione pybrics
from pybricks.hubs import PrimeHub
from pybricks.pupdevices import Motor, ColorSensor, UltrasonicSensor, ForceSensor
from pybricks.parameters import Button, Color, Direction, Port, Side, Stop
from pybricks.robotics import DriveBase
from pybricks.tools import wait, StopWatch

#Definir los perisfericos de nuestro robot (motores y sensores)

#motores de movimiento
ruedaIzquierda = Motor(Port.A, Direction.COUNTERCLOCKWISE)
ruedaDerecha = Motor(Port.E, Direction.CLOCKWISE)

#motores de mecanismos
motorDerecho = Motor(Port.F, Direction.CLOCKWISE)
motorIzquierdo = Motor(Port.B, Direction.COUNTERCLOCKWISE)

#Sensores de luz
sensorIzquierdo = ColorSensor(Port.C)
sensorDerecho = ColorSensor(Port.D)

#Definir base de movimiento
robot = DriveBase(ruedaIzquierda, ruedaDerecha, 56, 114)
robot.use_gyro(True)
robot.settings(360,180,360,180)
```




